<script src="https://cdn.jsdelivr.net/npm/@microsoft/signalr@8.0.0/dist/browser/signalr.min.js"></script>
<script>
const connection = new signalR.HubConnectionBuilder()
  .withUrl("http://localhost:5000/hubs/notify", { accessTokenFactory: () => "<paste JWT here>" })
  .configureLogging(signalR.LogLevel.Information)
  .build();

connection.on("allocationUpdate", msg => console.log("Allocation:", msg));
connection.on("lowStock", msg => {
  console.warn("LOW STOCK ALERT!", msg);
  document.body.insertAdjacentHTML('beforeend', `<div style='color:red;font-weight:bold'>LOW STOCK: ${JSON.stringify(msg)}</div>`);
});

connection.start()
  .then(() => console.log("SignalR connected"))
  .catch(err => console.error(err));
</script>
<body>Open console (F12) to see live events.</body> 